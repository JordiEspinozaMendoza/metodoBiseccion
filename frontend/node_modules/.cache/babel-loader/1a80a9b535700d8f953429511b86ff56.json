{"ast":null,"code":"import React, { createContext, useContext } from 'react';\nimport classnames from 'classnames';\nimport { parse } from 'equation-parser';\nimport { format } from 'equation-resolver';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n/**\n * Compiler-error and runtime-error on unhandled type\n *\n * @param typed: Object with type-property\n * @param getMessage: get an error message for runtime errors\n */\n\n\nfunction throwUnknownType(typed, getMessage) {\n  throw new Error(getMessage(typed && typed.type || 'unknown'));\n}\n\nvar indexOffset = 0.3;\nvar indexFactor = 0.8;\nvar styles = {\n  main: {\n    display: 'inline-block',\n    fontStyle: 'italic'\n  },\n  index: {\n    fontSize: \"\".concat(indexFactor * 100, \"%\"),\n    position: 'relative'\n  }\n};\n\nfunction variable(_ref) {\n  var name = _ref.name;\n\n  var _name$split = name.split('_'),\n      _name$split2 = _toArray(_name$split),\n      main = _name$split2[0],\n      indices = _name$split2.slice(1);\n\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles.main), {}, {\n        marginLeft: /^[%‰°'\"]/.test(main) ? '-0.2em' : null\n      })\n    },\n    aboveMiddle: 0.7,\n    belowMiddle: 0.7 + indices.length * indexOffset,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, main, indices.map(function (indexName, idx) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: idx,\n        style: _objectSpread2(_objectSpread2({}, styles.index), {}, {\n          top: \"\".concat(indexOffset * (idx + 1) / indexFactor, \"em\")\n        })\n      }, indexName);\n    }))\n  };\n}\n\nfunction Parens(_ref) {\n  var height = _ref.height,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? '()' : _ref$type,\n      _ref$flip = _ref.flip,\n      flip = _ref$flip === void 0 ? false : _ref$flip;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"0.4em\",\n    style: {\n      verticalAlign: 'top',\n      transform: flip ? 'scale(-1, 1)' : undefined\n    },\n    viewBox: \"0 0 0.4 \".concat(height)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: pathBuilders[type](height)\n  }));\n}\n\nvar pathBuilders = {\n  '()': function _(height) {\n    var offsetHeight = height - 1.4;\n    return \"M0.094 0.681q0 -0.312 0.18 -0.476l0.028 -0.024l0.013 0q0.012 0 0.015 0.003t0.003 0.006q0 0.004 -0.011 0.015q-0.155 0.164 -0.155 0.476l0 \".concat(offsetHeight, \"q0 0.321 0.155 0.476q0.011 0.011 0.011 0.015q0 0.009 -0.018 0.009l-0.013 0l-0.028 -0.024q-0.18 -0.164 -0.18 -0.476Z\");\n  },\n  '[]': function _(height) {\n    var offsetHeight = height - 0.55;\n    return \"M0.134 0.19h0.24v0.08h-0.16v\".concat(offsetHeight, \"h0.16v0.08h-0.24Z\");\n  },\n  '{}': function _(height) {\n    var offsetHeight = height - 1.37;\n    return \"M0.3472 \".concat(1.161 + offsetHeight, \"q0 0.014 -0.0048 0.02h-0.0144q-0.0608 0 -0.104 -0.026t-0.0544 -0.08q-0.0016 -0.006 -0.0024 -0.1445v\").concat(-offsetHeight / 2, \"q0 -0.021 0 -0.053q-0.0008 -0.089 -0.004 -0.1q-0.0008 -0.001 -0.0008 -0.002q-0.0096 -0.031 -0.0368 -0.053t-0.06 -0.023q-0.0088 0 -0.0112 -0.003t-0.0024 -0.016t0.0024 -0.016t0.0112 -0.003q0.0328 0 0.06 -0.022t0.0368 -0.054q0.0032 -0.012 0.0032 -0.025t0.0016 -0.131v\").concat(-offsetHeight / 2, \"q0.0008 -0.137 0.0024 -0.144q0.0064 -0.032 0.0256 -0.053q0.0208 -0.026 0.064 -0.042q0.0296 -0.008 0.0424 -0.009q0.0016 0 0.0104 0t0.0144 -0.001h0.016q0.0048 0.006 0.0048 0.018q0 0.013 -0.0024 0.016q-0.0016 0.003 -0.0128 0.003q-0.0448 0.003 -0.0744 0.032q-0.016 0.015 -0.0208 0.034q-0.004 0.013 -0.004 0.148v\").concat(offsetHeight / 2, \"q0 0.13 -0.0008 0.136q-0.004 0.039 -0.0272 0.067t-0.0576 0.041l-0.0112 0.005l0.0112 0.005q0.0336 0.013 0.0568 0.04t0.028 0.068q0.0008 0.006 0.0008 0.136v\").concat(offsetHeight / 2, \"q0 0.1355 0.004 0.1475q0.008 0.028 0.0352 0.046t0.06 0.02q0.0112 0 0.0128 0.004q0.0024 0.002 0.0024 0.014Z\");\n  }\n};\n\nfunction block(_ref) {\n  var child = _ref.child;\n  var content = renderInternal(child);\n  return {\n    type: 'span',\n    props: {\n      style: {\n        height: \"\".concat(content.height, \"em\")\n      }\n    },\n    aboveMiddle: content.aboveMiddle,\n    belowMiddle: content.belowMiddle,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Parens, {\n      height: content.height\n    }), content.elements, /*#__PURE__*/React.createElement(Parens, {\n      height: content.height,\n      flip: true\n    }))\n  };\n}\n\nfunction func(node) {\n  // Use manual rendering to allow commas to be pushed between args\n  // without having to resort to manual alignment\n  var argParts = [];\n  node.args.forEach(function (arg, i) {\n    if (i > 0) {\n      argParts.push(simplePart(',', {\n        paddingRight: '0.4em'\n      }));\n    }\n\n    pushTree(arg, argParts);\n  }); // Render name as variable or placeholder\n\n  var nameRendering = renderInternal(node.type === 'function' ? {\n    type: 'variable',\n    name: node.name\n  } : {\n    type: 'operand-placeholder'\n  });\n  var argRendering = toRendering(argParts);\n  return {\n    type: 'span',\n    props: {\n      style: {\n        height: \"\".concat(Math.max(nameRendering.height, argRendering.height), \"em\")\n      }\n    },\n    aboveMiddle: Math.max(nameRendering.aboveMiddle, argRendering.aboveMiddle),\n    belowMiddle: Math.max(nameRendering.belowMiddle, argRendering.belowMiddle),\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        position: 'relative',\n        top: \"\".concat(argRendering.aboveMiddle - nameRendering.aboveMiddle, \"em\")\n      }\n    }, nameRendering.elements), /*#__PURE__*/React.createElement(Parens, {\n      height: argRendering.height\n    }), argRendering.elements, /*#__PURE__*/React.createElement(Parens, {\n      height: argRendering.height,\n      flip: true\n    }))\n  };\n}\n\nvar fontFactor = 0.9;\nvar separatorSize = 0.06;\nvar styles$1 = {\n  wrapper: {\n    display: 'inline-block',\n    verticalAlign: 'top'\n  },\n  part: {\n    fontSize: \"\".concat(fontFactor * 100, \"%\"),\n    display: 'block',\n    textAlign: 'center',\n    padding: '0 0.4em'\n  },\n  separator: {\n    display: 'block',\n    background: 'currentColor',\n    borderTop: \"\".concat(separatorSize, \"em solid currentColor\")\n  }\n};\n\nfunction fraction(_ref) {\n  var a = _ref.a,\n      b = _ref.b;\n  var top = renderInternal(a, true);\n  var bottom = renderInternal(b, true);\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2({}, styles$1.wrapper)\n    },\n    aboveMiddle: top.height * fontFactor - separatorSize / 2,\n    belowMiddle: bottom.height * fontFactor + separatorSize * 3 / 2,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$1.part), {}, {\n        height: \"\".concat(top.height, \"em\")\n      })\n    }, top.elements), /*#__PURE__*/React.createElement(\"span\", {\n      style: styles$1.separator\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$1.part), {}, {\n        height: \"\".concat(bottom.height, \"em\")\n      })\n    }, bottom.elements))\n  };\n}\n\nvar fontFactor$1 = 0.7;\nvar exponentOffset = 0.8;\nvar styles$2 = {\n  exponent: {\n    fontSize: \"\".concat(fontFactor$1 * 100, \"%\"),\n    display: 'inline-block',\n    verticalAlign: 'top'\n  }\n};\n\nfunction power(_ref) {\n  var a = _ref.a,\n      b = _ref.b;\n  var base = renderInternal(a, false);\n  var exponent = renderInternal(b, true);\n  var baseOffset = exponent.height * fontFactor$1 - exponentOffset;\n  return {\n    type: 'span',\n    props: {\n      style: {\n        height: \"\".concat(base.height + baseOffset, \"em\")\n      }\n    },\n    aboveMiddle: base.height / 2 + baseOffset,\n    belowMiddle: base.height / 2,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        position: 'relative',\n        top: \"\".concat(baseOffset, \"em\"),\n        height: \"\".concat(base.height, \"em\")\n      }\n    }, base.elements), /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$2.exponent), {}, {\n        height: \"\".concat(exponent.height, \"em\")\n      })\n    }, exponent.elements))\n  };\n}\n\nvar padding = 0.2;\nvar cellPadding = 0.4;\nvar fontFactor$2 = 0.9;\nvar styles$3 = {\n  wrapper: {\n    padding: '0.1em 0'\n  },\n  table: {\n    display: 'inline-table',\n    verticalAlign: 'top',\n    borderCollapse: 'collapse',\n    fontSize: \"\".concat(fontFactor$2 * 100, \"%\"),\n    marginTop: '0.1em'\n  },\n  cell: {\n    padding: '0.2em 0.5em',\n    textAlign: 'center',\n    verticalAlign: 'top'\n  },\n  cellContent: {\n    width: '100%',\n    height: '100%'\n  }\n};\n\nfunction matrix(_ref) {\n  var values = _ref.values,\n      m = _ref.m;\n  var content = values.map(function (row) {\n    return row.map(function (value) {\n      return renderInternal(value);\n    });\n  });\n  var cellHeight = sumOf(content, function (row) {\n    return maxOf(row, function (_ref2) {\n      var height = _ref2.height;\n      return height;\n    });\n  });\n  var height = fontFactor$2 * (m * cellPadding + cellHeight);\n  return {\n    type: 'span',\n    props: {\n      style: styles$3.wrapper\n    },\n    aboveMiddle: (height + padding) / 2,\n    belowMiddle: (height + padding) / 2,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Parens, {\n      height: height,\n      type: \"[]\"\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      style: styles$3.table\n    }, /*#__PURE__*/React.createElement(\"tbody\", null, content.map(function (row, rowIdx) {\n      var rowHeight = maxOf(row, function (cell) {\n        return cell.height;\n      }) + cellPadding;\n      var aboveMiddle = maxOf(row, function (cell) {\n        return cell.aboveMiddle;\n      });\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: rowIdx,\n        style: {\n          height: \"\".concat(rowHeight, \"em\")\n        }\n      }, row.map(function (cell, cellIdx) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: cellIdx,\n          style: styles$3.cell\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            position: 'relative',\n            top: \"\".concat(aboveMiddle - cell.aboveMiddle, \"em\")\n          }\n        }, cell.elements));\n      }));\n    }))), /*#__PURE__*/React.createElement(Parens, {\n      height: height,\n      type: \"[]\",\n      flip: true\n    }))\n  };\n}\n\nfunction maxOf(array, get) {\n  return array.reduce(function (current, value) {\n    return Math.max(current, get(value));\n  }, 0);\n}\n\nfunction sumOf(array, get) {\n  return array.reduce(function (current, value) {\n    return current + get(value);\n  }, 0);\n}\n\nvar iconSize = 1.8;\nvar fontFactor$3 = 0.8;\nvar styles$4 = {\n  wrapper: {\n    display: 'inline-block'\n  },\n  block: {\n    display: 'inline-block',\n    verticalAlign: 'top',\n    textAlign: 'center'\n  },\n  icon: {\n    display: 'block',\n    lineHeight: 0.8,\n    fontSize: '2.25em',\n    padding: '0 0.1em',\n    top: '1px'\n  },\n  small: {\n    display: 'block',\n    fontSize: \"\".concat(fontFactor$3 * 100, \"%\")\n  }\n};\n\nfunction sum(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 4),\n      variable = _ref$args[0],\n      start = _ref$args[1],\n      end = _ref$args[2],\n      expression = _ref$args[3];\n\n  var top = renderInternal(end || {\n    type: 'operand-placeholder'\n  });\n  var bottom = renderInternal({\n    type: 'equals',\n    a: variable || {\n      type: 'operand-placeholder'\n    },\n    b: start || {\n      type: 'operand-placeholder'\n    }\n  });\n  var rendering = renderInternal(wrapParenthesis(expression || {\n    type: 'operand-placeholder'\n  }), false, {\n    type: 'span',\n    props: {\n      style: styles$4.block\n    },\n    aboveMiddle: iconSize / 2 + top.height * fontFactor$3,\n    belowMiddle: iconSize / 2 + bottom.height * fontFactor$3,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2({\n        height: \"\".concat(top.height, \"em\")\n      }, styles$4.small)\n    }, top.elements), /*#__PURE__*/React.createElement(\"span\", {\n      style: styles$4.icon\n    }, \"\\u03A3\"), /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2({\n        height: \"\".concat(bottom.height, \"em\")\n      }, styles$4.small)\n    }, bottom.elements))\n  });\n  return {\n    type: 'span',\n    props: {\n      style: styles$4.wrapper\n    },\n    aboveMiddle: rendering.aboveMiddle,\n    belowMiddle: rendering.belowMiddle,\n    children: rendering.elements\n  };\n}\n\nfunction wrapParenthesis(tree) {\n  if (canStandAlone(tree)) {\n    return tree;\n  } else {\n    return {\n      type: 'block',\n      child: tree\n    };\n  }\n}\n\nfunction canStandAlone(tree) {\n  return tree.type === 'variable' || tree.type === 'number' || tree.type === 'block' || tree.type === 'function' || tree.type === 'matrix' || tree.type === 'divide-fraction' || tree.type === 'power' || tree.type === 'operand-placeholder' || tree.type === 'function-placeholder' || (tree.type === 'negative' || tree.type === 'positive' || tree.type === 'positive-negative' || tree.type === 'operator-unary-placeholder') && canStandAlone(tree.value);\n}\n\nvar styles$5 = {\n  wrapper: {\n    display: 'inline-block',\n    verticalAlign: 'top',\n    padding: '0 0.3em'\n  },\n  line: {\n    position: 'absolute',\n    borderLeft: '0.08em solid currentColor',\n    top: '0.2em',\n    height: \"calc(100% - 0.4em)\"\n  }\n};\n\nfunction abs(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 1),\n      expression = _ref$args[0];\n\n  var content = renderInternal(expression || {\n    type: 'operand-placeholder'\n  });\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles$5.wrapper), {}, {\n        height: \"\".concat(content.height, \"em\")\n      })\n    },\n    aboveMiddle: content.aboveMiddle,\n    belowMiddle: content.belowMiddle,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$5.line), {}, {\n        left: '0.1em'\n      })\n    }), content.elements, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$5.line), {}, {\n        right: '0.1em'\n      })\n    }))\n  };\n}\n\nfunction RootSymbol(_ref) {\n  var height = _ref.height,\n      style = _ref.style;\n  height = Math.max(height, 1.4);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"0.8em\",\n    style: style,\n    viewBox: \"0 0 0.8 \".concat(height - 0.1)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: buildPath(morphSvg(pathCommands, height))\n  }));\n}\n\nfunction morphSvg(commands, height) {\n  var offsetHeight = height - 1.4; // Factors determined by experiment\n  // Move top and inner elbow to keep the width of the long\n  // line at ~0.5em\n\n  var topOffsetFactor = 0.015 * Math.atan(offsetHeight * 1.25);\n  var elbowFactor = 0.08 * Math.atan(offsetHeight * 0.556);\n  return commands.map(function (_ref2, idx) {\n    var c = _ref2.c,\n        v = _ref2.v; // First point, anchor of top\n    // Move full offset\n\n    if (idx === 0) {\n      return {\n        c: c,\n        v: [v[0] - topOffsetFactor, v[1]]\n      }; // Second point, beizer\n      // Move to keep round top\n    } else if (idx === 1) {\n      return {\n        c: c,\n        v: [v[0] - topOffsetFactor * 0.75, v[1], v[2] - topOffsetFactor * 0.5, v[3]]\n      }; // Last point is inside elbow, should move up along short line\n    } else if (idx === 18) {\n      return {\n        c: c,\n        v: [// Move along existing line\n        v[0] - elbowFactor * 0.416, v[1] - elbowFactor * 0.909 + offsetHeight]\n      }; // Move other points down\n    } else if (idx > 3) {\n      return {\n        c: c,\n        v: v.map(function (value, valueIdx) {\n          return valueIdx % 2 === 0 ? value : value + offsetHeight;\n        })\n      };\n    }\n\n    return {\n      c: c,\n      v: v\n    };\n  });\n} // Build path-string from commands\n\n\nfunction buildPath(commands) {\n  return commands.map(function (_ref3) {\n    var c = _ref3.c,\n        v = _ref3.v;\n    return c + v.join(' ');\n  }).join('');\n} // Commands used to draw a square root sign\n\n\nvar pathCommands = [{\n  c: 'M',\n  v: [0.7767, 0.014]\n}, {\n  c: 'Q',\n  v: [0.7847, 0, 0.7967, 0]\n}, {\n  c: 'L',\n  v: [0.8, 0]\n}, {\n  c: 'L',\n  v: [0.8, 0.08]\n}, {\n  c: 'L',\n  v: [0.351, 0.993]\n}, {\n  c: 'Q',\n  v: [0.347, 1, 0.332, 1]\n}, {\n  c: 'Q',\n  v: [0.323, 1, 0.32, 0.997]\n}, {\n  c: 'L',\n  v: [0.126, 0.575]\n}, {\n  c: 'L',\n  v: [0.11, 0.586]\n}, {\n  c: 'Q',\n  v: [0.095, 0.598, 0.079, 0.61]\n}, {\n  c: 'T',\n  v: [0.061, 0.622]\n}, {\n  c: 'Q',\n  v: [0.057, 0.622, 0.048, 0.614]\n}, {\n  c: 'T',\n  v: [0.038, 0.6]\n}, {\n  c: 'Q',\n  v: [0.038, 0.597, 0.039, 0.596]\n}, {\n  c: 'Q',\n  v: [0.041, 0.592, 0.106, 0.542]\n}, {\n  c: 'T',\n  v: [0.173, 0.491]\n}, {\n  c: 'Q',\n  v: [0.175, 0.489, 0.178, 0.489]\n}, {\n  c: 'Q',\n  v: [0.185, 0.489, 0.19, 0.499]\n}, {\n  c: 'L',\n  v: [0.3578, 0.8658]\n}, {\n  c: 'Z',\n  v: []\n}];\nvar padding$1 = 0.1;\nvar styles$6 = {\n  wrapper: {\n    position: 'relative',\n    display: 'inline-block',\n    marginTop: '0.1em'\n  },\n  symbol: {\n    verticalAlign: 'top'\n  },\n  line: {\n    position: 'absolute',\n    width: 'calc(100% - 0.7em)',\n    borderTop: '0.08em solid currentColor',\n    top: 0,\n    left: '0.8em'\n  }\n};\n\nfunction sqrt(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 1),\n      expression = _ref$args[0];\n\n  var content = renderInternal(expression || {\n    type: 'operand-placeholder'\n  });\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles$6.wrapper), {}, {\n        height: \"\".concat(content.height + padding$1, \"em\")\n      })\n    },\n    aboveMiddle: content.aboveMiddle + padding$1,\n    belowMiddle: content.belowMiddle,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RootSymbol, {\n      style: styles$6.symbol,\n      height: content.height + padding$1\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$6.line\n    }), content.elements)\n  };\n}\n\nvar rootIndexFactor = 0.7;\nvar rootIndexOffset = 0.8;\nvar styles$7 = {\n  wrapper: {\n    display: 'inline-block',\n    position: 'relative'\n  },\n  indexOuter: {\n    display: 'inline-block'\n  },\n  indexInner: {\n    fontSize: \"\".concat(rootIndexFactor * 100, \"%\"),\n    verticalAlign: 'top'\n  }\n};\n\nfunction root(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 2),\n      rootIndex = _ref$args[0],\n      expression = _ref$args[1];\n\n  var rootIndexContent = renderInternal(rootIndex || {\n    type: 'operand-placeholder'\n  }); // Pretend this is a sqrt to avoid repeat of logic\n\n  var sqrtContent = sqrt({\n    type: 'function',\n    name: 'sqrt',\n    args: [expression]\n  });\n  var bottom = sqrtContent.belowMiddle - rootIndexOffset;\n  var offset = 1 - Math.atan(sqrtContent.aboveMiddle + sqrtContent.belowMiddle) * 0.6;\n  var rendering = toRendering([{\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles$7.indexOuter), {}, {\n        height: \"\".concat(rootIndexContent.height * rootIndexFactor, \"em\"),\n        marginRight: \"\".concat(-offset, \"em\"),\n        minWidth: \"\".concat(offset, \"em\")\n      })\n    },\n    aboveMiddle: rootIndexContent.height * rootIndexFactor - bottom,\n    belowMiddle: bottom,\n    children: /*#__PURE__*/React.createElement(\"span\", {\n      style: styles$7.indexInner\n    }, rootIndexContent.elements)\n  }, sqrtContent]);\n  return {\n    type: 'span',\n    props: {\n      style: styles$7.wrapper\n    },\n    aboveMiddle: rendering.aboveMiddle,\n    belowMiddle: rendering.belowMiddle,\n    children: rendering.elements\n  };\n}\n\nvar defaultErrorHandler = function defaultErrorHandler(node) {\n  return \"Error: \".concat(node.errorType);\n};\n\nvar render = function render(node) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$errorHandler = _ref.errorHandler,\n      errorHandler = _ref$errorHandler === void 0 ? {} : _ref$errorHandler,\n      className = _ref.className,\n      style = _ref.style;\n\n  var baseProps = {\n    className: className,\n    style: _objectSpread2(_objectSpread2({}, style), {}, {\n      display: 'inline-block',\n      lineHeight: 1.4\n    })\n  };\n\n  if (node.type === 'parser-error') {\n    return /*#__PURE__*/React.createElement(\"span\", baseProps, /*#__PURE__*/React.createElement(\"div\", null, node.equation.substring(0, node.start), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      }\n    }, node.equation.substring(node.start, node.end + 1)), node.equation.substring(node.end + 1)), /*#__PURE__*/React.createElement(\"div\", null, (errorHandler[node.errorType] || defaultErrorHandler)(node)));\n  }\n\n  if (node.type === 'resolve-error' && node.node) {\n    // TODO: pretty error handling\n    var _renderInternal = renderInternal(node.node),\n        _elements = _renderInternal.elements,\n        _height = _renderInternal.height;\n\n    return /*#__PURE__*/React.createElement(\"span\", baseProps, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        height: \"\".concat(_height, \"em\"),\n        display: 'inline-block'\n      }\n    }, _elements), /*#__PURE__*/React.createElement(\"br\", null), (errorHandler[node.errorType] || defaultErrorHandler)(node));\n  }\n\n  if (node.type === 'resolve-error') {\n    return /*#__PURE__*/React.createElement(\"span\", baseProps, (errorHandler[node.errorType] || defaultErrorHandler)(node));\n  }\n\n  var _renderInternal2 = renderInternal(node),\n      elements = _renderInternal2.elements,\n      height = _renderInternal2.height;\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, baseProps, {\n    style: _objectSpread2({\n      height: \"\".concat(height, \"em\")\n    }, baseProps.style)\n  }), elements);\n};\n\nfunction renderInternal(tree) {\n  var skipParentheses = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var parts;\n\n  for (var _len = arguments.length, initial = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    initial[_key - 2] = arguments[_key];\n  }\n\n  if (skipParentheses && tree.type === 'block') {\n    parts = pushTree(tree.child, initial);\n  } else {\n    parts = pushTree(tree, initial);\n  }\n\n  return toRendering(parts);\n}\n\nfunction toRendering(parts) {\n  var aboveMiddle = parts.reduce(function (current, part) {\n    return Math.max(current, part.aboveMiddle);\n  }, 0);\n  var belowMiddle = parts.reduce(function (current, part) {\n    return Math.max(current, part.belowMiddle);\n  }, 0);\n\n  var _iterator = _createForOfIteratorHelper(parts),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var part = _step.value;\n      part.props.style = _objectSpread2(_objectSpread2({}, part.props.style), {}, {\n        top: part.aboveMiddle < aboveMiddle ? \"\".concat(aboveMiddle - part.aboveMiddle, \"em\") : null,\n        position: 'relative'\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return {\n    aboveMiddle: aboveMiddle,\n    belowMiddle: belowMiddle,\n    height: aboveMiddle + belowMiddle,\n    elements: parts.map(function (part, idx) {\n      return /*#__PURE__*/React.createElement(part.type, _objectSpread2({\n        key: idx\n      }, part.props), part.children);\n    })\n  };\n} // Lookups for operator symbols with optional styling\n\n\nvar binaryOperatorLookup = {\n  'plus': ['+'],\n  // Unicode MINUS\n  'minus': ['−'],\n  // Unicode MINUS\n  'plus-minus': ['±'],\n  'multiply-implicit': ['', {\n    padding: '0 0.1em'\n  }],\n  // Unicode DOT OPERATOR\n  'multiply-dot': ['⋅', {\n    padding: '0 0.15em'\n  }],\n  // Unicode MULTIPLICATION SIGN\n  'multiply-cross': ['×'],\n  // Unicode DIVISION SIGN\n  'divide-inline': ['÷'],\n  'equals': ['='],\n  'less-than': ['<'],\n  'less-than-equals': ['≤'],\n  'greater-than': ['>'],\n  'greater-than-equals': ['≥'],\n  'approximates': ['≈'],\n  'operator-placeholder': ['?']\n};\nvar unaryOperatorLookup = {\n  'positive': ['+'],\n  // Unicode MINUS\n  'negative': ['−'],\n  'positive-negative': ['±'],\n  'operator-unary-placeholder': ['?']\n};\n\nfunction pushTree(node, current) {\n  switch (node.type) {\n    // Operands\n    case 'number':\n      current.push(simplePart(node.value));\n      break;\n\n    case 'variable':\n      current.push(variable(node));\n      break;\n\n    case 'operand-placeholder':\n      current.push(simplePart('_'));\n      break;\n    // Unary operators\n\n    case 'positive':\n    case 'negative':\n    case 'positive-negative':\n    case 'operator-unary-placeholder':\n      {\n        var _unaryOperatorLookup$ = _slicedToArray(unaryOperatorLookup[node.type], 2),\n            symbol = _unaryOperatorLookup$[0],\n            _unaryOperatorLookup$2 = _unaryOperatorLookup$[1],\n            style = _unaryOperatorLookup$2 === void 0 ? {\n          padding: '0 0.1em'\n        } : _unaryOperatorLookup$2;\n\n        current.push(simplePart(symbol, style));\n        pushTree(node.value, current);\n        break;\n      }\n\n    case 'plus':\n    case 'minus':\n    case 'plus-minus':\n    case 'multiply-implicit':\n    case 'multiply-dot':\n    case 'multiply-cross':\n    case 'divide-inline':\n    case 'equals':\n    case 'less-than':\n    case 'less-than-equals':\n    case 'greater-than':\n    case 'greater-than-equals':\n    case 'approximates':\n    case 'operator-placeholder':\n      {\n        var _binaryOperatorLookup = _slicedToArray(binaryOperatorLookup[node.type], 2),\n            _symbol = _binaryOperatorLookup[0],\n            _binaryOperatorLookup2 = _binaryOperatorLookup[1],\n            _style = _binaryOperatorLookup2 === void 0 ? {\n          padding: '0 0.3em'\n        } : _binaryOperatorLookup2;\n\n        pushTree(node.a, current);\n        current.push(simplePart(_symbol, _style));\n        pushTree(node.b, current);\n        break;\n      }\n\n    case 'divide-fraction':\n      current.push(fraction(node));\n      break;\n\n    case 'power':\n      current.push(power(node));\n      break;\n\n    case 'block':\n      current.push(block(node));\n      break;\n\n    case 'function':\n      pushFunction(node, current);\n      break;\n\n    case 'function-placeholder':\n      current.push(func(node));\n      break;\n\n    case 'matrix':\n      current.push(matrix(node));\n      break;\n\n    default:\n      throwUnknownType(node, function (type) {\n        return \"Equation render: cannot resolve type \\\"\".concat(type, \"\\\"\");\n      });\n  }\n\n  return current;\n}\n\nfunction simplePart(value, style) {\n  return {\n    type: 'span',\n    props: {\n      style: style\n    },\n    children: value,\n    aboveMiddle: 0.7,\n    belowMiddle: 0.7\n  };\n}\n\nfunction pushFunction(tree, current) {\n  switch (tree.name) {\n    case 'sum':\n      current.push(sum(tree));\n      break;\n\n    case 'abs':\n      current.push(abs(tree));\n      break;\n\n    case 'sqrt':\n      current.push(sqrt(tree));\n      break;\n\n    case 'root':\n      current.push(root(tree));\n      break;\n\n    default:\n      current.push(func(tree));\n      break;\n  }\n}\n\nvar context = /*#__PURE__*/createContext({});\n\nvar EquationOptions = function EquationOptions(_ref) {\n  var children = _ref.children,\n      options = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: options\n  }, children);\n};\n\nvar Equation = function Equation(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style;\n\n  return render(parse(value), {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar unionArrays = function unionArrays(a, b) {\n  if (!a) {\n    return b;\n  } else if (!b) {\n    return a;\n  } else {\n    return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n  }\n};\n\nvar EquationEvaluate = function EquationEvaluate(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style,\n      unit = _ref.unit,\n      localVariables = _ref.variables,\n      localFunctions = _ref.functions,\n      localSimplifiableUnits = _ref.simplifiableUnits;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style,\n      globalVariables = _useContext.variables,\n      globalFunctions = _useContext.functions,\n      globalSimplifiableUnits = _useContext.simplifiableUnits;\n\n  var equation = parse(value);\n  var unitEquation = unit ? parse(unit) : null;\n  var tree = format(equation, unitEquation, {\n    variables: _objectSpread2(_objectSpread2({}, globalVariables), localVariables),\n    functions: _objectSpread2(_objectSpread2({}, globalFunctions), localFunctions),\n    simplifiableUnits: unionArrays(localSimplifiableUnits, globalSimplifiableUnits)\n  });\n  return render(tree, {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar EquationPreparsed = function EquationPreparsed(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style;\n\n  return render(value, {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar unionArrays$1 = function unionArrays(a, b) {\n  if (!a) {\n    return b;\n  } else if (!b) {\n    return a;\n  } else {\n    return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n  }\n};\n\nvar EquationEvaluatePreparsed = function EquationEvaluatePreparsed(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style,\n      unit = _ref.unit,\n      localVariables = _ref.variables,\n      localFunctions = _ref.functions,\n      localSimplifiableUnits = _ref.simplifiableUnits;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style,\n      globalVariables = _useContext.variables,\n      globalFunctions = _useContext.functions,\n      globalSimplifiableUnits = _useContext.simplifiableUnits;\n\n  var tree = format(value, unit, {\n    variables: _objectSpread2(_objectSpread2({}, globalVariables), localVariables),\n    functions: _objectSpread2(_objectSpread2({}, globalFunctions), localFunctions),\n    simplifiableUnits: unionArrays$1(localSimplifiableUnits, globalSimplifiableUnits)\n  });\n  return render(tree, {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar defaultErrorHandler$1 = {\n  // Parser errors\n  numberWhitespace: function numberWhitespace() {\n    return 'Cannot have spaces inside numbers';\n  },\n  invalidNumber: function invalidNumber() {\n    return 'Invalid number';\n  },\n  adjecentOperator: function adjecentOperator() {\n    return 'Two operators cannot be adjecent';\n  },\n  invalidChar: function invalidChar(_ref) {\n    var character = _ref.character;\n    return \"Invalid character '\".concat(character, \"'\");\n  },\n  invalidUnary: function invalidUnary(_ref2) {\n    var symbol = _ref2.symbol;\n    return \"'\".concat(symbol, \"' cannot be a unary operator\");\n  },\n  multipleExpressions: function multipleExpressions() {\n    return 'An unexpected parsing error occured';\n  },\n  matrixMixedDimension: function matrixMixedDimension(_ref3) {\n    var lengthExpected = _ref3.lengthExpected,\n        lengthReceived = _ref3.lengthReceived;\n    return \"Matrix-row has length \".concat(lengthReceived, \", but should be \").concat(lengthExpected);\n  },\n  matrixEmpty: function matrixEmpty() {\n    return 'Matrix must contain at least one expression';\n  },\n  vectorEmpty: function vectorEmpty() {\n    return 'Vector must contain at least one expression';\n  },\n  expectedEnd: function expectedEnd() {\n    return 'Expected end of equation';\n  },\n  expectedSquareBracket: function expectedSquareBracket() {\n    return 'Missing closing square bracket';\n  },\n  expectedCloseParens: function expectedCloseParens() {\n    return 'Missing closing parenthesis';\n  },\n  operatorLast: function operatorLast() {\n    return 'Equation cannot end on an operator';\n  },\n  // Resolver errors\n  functionUnknown: function functionUnknown(_ref4) {\n    var name = _ref4.name;\n    return \"Unknown function \".concat(name);\n  },\n  functionArgLength: function functionArgLength(_ref5) {\n    var name = _ref5.name,\n        minArgs = _ref5.minArgs,\n        maxArgs = _ref5.maxArgs;\n    return minArgs === maxArgs ? \"\".concat(name, \" must have \").concat(minArgs, \" arguments\") : \"\".concat(name, \" must have \").concat(minArgs, \"-\").concat(maxArgs, \" arguments\");\n  },\n  functionNumberOnly: function functionNumberOnly(_ref6) {\n    var name = _ref6.name;\n    return \"Arguments of \".concat(name, \" must be unitless numbers\");\n  },\n  functionSqrt1Positive: function functionSqrt1Positive(_ref7) {\n    var name = _ref7.name;\n    return \"First argument of \".concat(name, \" must be positive\");\n  },\n  functionRoot1PositiveInteger: function functionRoot1PositiveInteger(_ref8) {\n    var name = _ref8.name;\n    return \"First argument of \".concat(name, \" must be a positive integer\");\n  },\n  functionRoot2Positive: function functionRoot2Positive(_ref9) {\n    var name = _ref9.name;\n    return \"Second argument of \".concat(name, \" must be positive\");\n  },\n  functionSum1Variable: function functionSum1Variable(_ref10) {\n    var name = _ref10.name,\n        variableType = _ref10.variableType;\n    return \"First argument of \".concat(name, \" must be a variable, was \").concat(variableType);\n  },\n  functionSum2Integer: function functionSum2Integer(_ref11) {\n    var name = _ref11.name;\n    return \"Second argument of \".concat(name, \" must be an integer\");\n  },\n  functionSum3Integer: function functionSum3Integer(_ref12) {\n    var name = _ref12.name;\n    return \"Third argument of \".concat(name, \" must be an integer\");\n  },\n  variableUnknown: function variableUnknown(_ref13) {\n    var name = _ref13.name;\n    return \"Unknown variable \".concat(name);\n  },\n  plusDifferentUnits: function plusDifferentUnits() {\n    return \"Cannot add numbers with different units\";\n  },\n  plusMatrixMismatch: function plusMatrixMismatch(_ref14) {\n    var aDimensions = _ref14.aDimensions,\n        bDimensions = _ref14.bDimensions;\n    return \"Cannot add matrices of dimensions \".concat(aDimensions, \" and \").concat(bDimensions);\n  },\n  plusminusUnhandled: function plusminusUnhandled() {\n    return \"Plus-minus operator is currently not supported\";\n  },\n  scalarProductUnbalanced: function scalarProductUnbalanced(_ref15) {\n    var aLength = _ref15.aLength,\n        bLength = _ref15.bLength;\n    return \"Cannot calculate scalar (dot) product of vectors of size \".concat(aLength, \" and \").concat(bLength);\n  },\n  vectorProduct3VectorOnly: function vectorProduct3VectorOnly() {\n    return \"Vector (cross) product requires 2 3-vectors\";\n  },\n  matrixProductMatrixMismatch: function matrixProductMatrixMismatch(_ref16) {\n    var aDimensions = _ref16.aDimensions,\n        bDimensions = _ref16.bDimensions;\n    return \"Cannot multiply matrices of dimensions \".concat(aDimensions, \" and \").concat(bDimensions);\n  },\n  multiplyImplicitNoVectors: function multiplyImplicitNoVectors() {\n    return \"Cannot multiply vectors without symbol, use either dot or cross\";\n  },\n  divideNotZero: function divideNotZero() {\n    return \"Cannot divide by zero\";\n  },\n  divideMatrixMatrix: function divideMatrixMatrix() {\n    return \"Cannot divide matrices with each other\";\n  },\n  powerUnitlessNumberExponent: function powerUnitlessNumberExponent() {\n    return \"Exponent must be a unitless number\";\n  },\n  operatorInvalidArguments: function operatorInvalidArguments(_ref17) {\n    var operator = _ref17.operator,\n        a = _ref17.a,\n        b = _ref17.b;\n    return \"Operator '\".concat(operator, \"' not defined for \").concat(a, \" and \").concat(b);\n  },\n  noComparison: function noComparison() {\n    return \"Cannot evaluate a comparison\";\n  },\n  matrixDifferentUnits: function matrixDifferentUnits() {\n    return \"All matrix-cells must have the same unit\";\n  },\n  matrixNoNesting: function matrixNoNesting() {\n    return \"Cannot nest matrices\";\n  },\n  invalidEquation: function invalidEquation() {\n    return \"Cannot resolve an invalid equation\";\n  },\n  placeholder: function placeholder() {\n    return \"Cannot evaluate a placeholder\";\n  },\n  invalidUnit: function invalidUnit() {\n    return \"Must be a valid unit\";\n  }\n};\nexport { Equation, EquationEvaluate, EquationEvaluatePreparsed, EquationOptions, EquationPreparsed, defaultErrorHandler$1 as defaultErrorHandler, render };","map":{"version":3,"sources":["C:/Users/dell/Documents/ITT/MetodoBiseccionWebApp/frontend/node_modules/react-equation/dist/index.esm.js"],"names":["React","createContext","useContext","classnames","parse","format","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_extends","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread2","forEach","getOwnPropertyDescriptors","defineProperties","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_toArray","_iterableToArray","_toConsumableArray","_arrayWithoutHoles","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","o","minLen","n","toString","slice","constructor","name","test","len","arr2","TypeError","_createForOfIteratorHelper","allowArrayLike","it","F","s","e","f","normalCompletion","didErr","step","return","throwUnknownType","typed","getMessage","Error","type","indexOffset","indexFactor","styles","main","display","fontStyle","index","fontSize","concat","position","variable","_ref","_name$split","split","_name$split2","indices","props","style","marginLeft","aboveMiddle","belowMiddle","children","createElement","Fragment","map","indexName","idx","top","Parens","height","_ref$type","_ref$flip","flip","width","verticalAlign","transform","viewBox","d","pathBuilders","_","offsetHeight","block","child","content","renderInternal","elements","func","node","argParts","args","arg","simplePart","paddingRight","pushTree","nameRendering","argRendering","toRendering","Math","max","fontFactor","separatorSize","styles$1","wrapper","part","textAlign","padding","separator","background","borderTop","fraction","a","b","bottom","fontFactor$1","exponentOffset","styles$2","exponent","power","base","baseOffset","cellPadding","fontFactor$2","styles$3","table","borderCollapse","marginTop","cell","cellContent","matrix","values","m","row","cellHeight","sumOf","maxOf","_ref2","rowIdx","rowHeight","cellIdx","array","get","reduce","current","iconSize","fontFactor$3","styles$4","icon","lineHeight","small","sum","_ref$args","start","end","expression","rendering","wrapParenthesis","tree","canStandAlone","styles$5","line","borderLeft","abs","left","right","RootSymbol","buildPath","morphSvg","pathCommands","commands","topOffsetFactor","atan","elbowFactor","c","v","valueIdx","_ref3","join","padding$1","styles$6","symbol","sqrt","rootIndexFactor","rootIndexOffset","styles$7","indexOuter","indexInner","root","rootIndex","rootIndexContent","sqrtContent","offset","marginRight","minWidth","defaultErrorHandler","errorType","render","_ref$errorHandler","errorHandler","className","baseProps","equation","substring","color","_renderInternal","_elements","_height","_renderInternal2","skipParentheses","parts","_len","initial","_key","_iterator","_step","binaryOperatorLookup","unaryOperatorLookup","_unaryOperatorLookup$","_unaryOperatorLookup$2","_binaryOperatorLookup","_symbol","_binaryOperatorLookup2","_style","pushFunction","context","EquationOptions","options","Provider","Equation","_useContext","errorHandlerGlobal","classNameGlobal","styleGlobal","unionArrays","EquationEvaluate","unit","localVariables","variables","localFunctions","functions","localSimplifiableUnits","simplifiableUnits","globalVariables","globalFunctions","globalSimplifiableUnits","unitEquation","EquationPreparsed","unionArrays$1","EquationEvaluatePreparsed","defaultErrorHandler$1","numberWhitespace","invalidNumber","adjecentOperator","invalidChar","character","invalidUnary","multipleExpressions","matrixMixedDimension","lengthExpected","lengthReceived","matrixEmpty","vectorEmpty","expectedEnd","expectedSquareBracket","expectedCloseParens","operatorLast","functionUnknown","_ref4","functionArgLength","_ref5","minArgs","maxArgs","functionNumberOnly","_ref6","functionSqrt1Positive","_ref7","functionRoot1PositiveInteger","_ref8","functionRoot2Positive","_ref9","functionSum1Variable","_ref10","variableType","functionSum2Integer","_ref11","functionSum3Integer","_ref12","variableUnknown","_ref13","plusDifferentUnits","plusMatrixMismatch","_ref14","aDimensions","bDimensions","plusminusUnhandled","scalarProductUnbalanced","_ref15","aLength","bLength","vectorProduct3VectorOnly","matrixProductMatrixMismatch","_ref16","multiplyImplicitNoVectors","divideNotZero","divideMatrixMatrix","powerUnitlessNumberExponent","operatorInvalidArguments","_ref17","operator","noComparison","matrixDifferentUnits","matrixNoNesting","invalidEquation","placeholder","invalidUnit"],"mappings":"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","sourcesContent":["import React, { createContext, useContext } from 'react';\nimport classnames from 'classnames';\nimport { parse } from 'equation-parser';\nimport { format } from 'equation-resolver';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toArray(arr) {\n  return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\n/**\n * Compiler-error and runtime-error on unhandled type\n *\n * @param typed: Object with type-property\n * @param getMessage: get an error message for runtime errors\n */\nfunction throwUnknownType(typed, getMessage) {\n  throw new Error(getMessage(typed && typed.type || 'unknown'));\n}\n\nvar indexOffset = 0.3;\nvar indexFactor = 0.8;\nvar styles = {\n  main: {\n    display: 'inline-block',\n    fontStyle: 'italic'\n  },\n  index: {\n    fontSize: \"\".concat(indexFactor * 100, \"%\"),\n    position: 'relative'\n  }\n};\nfunction variable(_ref) {\n  var name = _ref.name;\n\n  var _name$split = name.split('_'),\n      _name$split2 = _toArray(_name$split),\n      main = _name$split2[0],\n      indices = _name$split2.slice(1);\n\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles.main), {}, {\n        marginLeft: /^[%‰°'\"]/.test(main) ? '-0.2em' : null\n      })\n    },\n    aboveMiddle: 0.7,\n    belowMiddle: 0.7 + indices.length * indexOffset,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, main, indices.map(function (indexName, idx) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        key: idx,\n        style: _objectSpread2(_objectSpread2({}, styles.index), {}, {\n          top: \"\".concat(indexOffset * (idx + 1) / indexFactor, \"em\")\n        })\n      }, indexName);\n    }))\n  };\n}\n\nfunction Parens(_ref) {\n  var height = _ref.height,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? '()' : _ref$type,\n      _ref$flip = _ref.flip,\n      flip = _ref$flip === void 0 ? false : _ref$flip;\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"0.4em\",\n    style: {\n      verticalAlign: 'top',\n      transform: flip ? 'scale(-1, 1)' : undefined\n    },\n    viewBox: \"0 0 0.4 \".concat(height)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: pathBuilders[type](height)\n  }));\n}\nvar pathBuilders = {\n  '()': function _(height) {\n    var offsetHeight = height - 1.4;\n    return \"M0.094 0.681q0 -0.312 0.18 -0.476l0.028 -0.024l0.013 0q0.012 0 0.015 0.003t0.003 0.006q0 0.004 -0.011 0.015q-0.155 0.164 -0.155 0.476l0 \".concat(offsetHeight, \"q0 0.321 0.155 0.476q0.011 0.011 0.011 0.015q0 0.009 -0.018 0.009l-0.013 0l-0.028 -0.024q-0.18 -0.164 -0.18 -0.476Z\");\n  },\n  '[]': function _(height) {\n    var offsetHeight = height - 0.55;\n    return \"M0.134 0.19h0.24v0.08h-0.16v\".concat(offsetHeight, \"h0.16v0.08h-0.24Z\");\n  },\n  '{}': function _(height) {\n    var offsetHeight = height - 1.37;\n    return \"M0.3472 \".concat(1.161 + offsetHeight, \"q0 0.014 -0.0048 0.02h-0.0144q-0.0608 0 -0.104 -0.026t-0.0544 -0.08q-0.0016 -0.006 -0.0024 -0.1445v\").concat(-offsetHeight / 2, \"q0 -0.021 0 -0.053q-0.0008 -0.089 -0.004 -0.1q-0.0008 -0.001 -0.0008 -0.002q-0.0096 -0.031 -0.0368 -0.053t-0.06 -0.023q-0.0088 0 -0.0112 -0.003t-0.0024 -0.016t0.0024 -0.016t0.0112 -0.003q0.0328 0 0.06 -0.022t0.0368 -0.054q0.0032 -0.012 0.0032 -0.025t0.0016 -0.131v\").concat(-offsetHeight / 2, \"q0.0008 -0.137 0.0024 -0.144q0.0064 -0.032 0.0256 -0.053q0.0208 -0.026 0.064 -0.042q0.0296 -0.008 0.0424 -0.009q0.0016 0 0.0104 0t0.0144 -0.001h0.016q0.0048 0.006 0.0048 0.018q0 0.013 -0.0024 0.016q-0.0016 0.003 -0.0128 0.003q-0.0448 0.003 -0.0744 0.032q-0.016 0.015 -0.0208 0.034q-0.004 0.013 -0.004 0.148v\").concat(offsetHeight / 2, \"q0 0.13 -0.0008 0.136q-0.004 0.039 -0.0272 0.067t-0.0576 0.041l-0.0112 0.005l0.0112 0.005q0.0336 0.013 0.0568 0.04t0.028 0.068q0.0008 0.006 0.0008 0.136v\").concat(offsetHeight / 2, \"q0 0.1355 0.004 0.1475q0.008 0.028 0.0352 0.046t0.06 0.02q0.0112 0 0.0128 0.004q0.0024 0.002 0.0024 0.014Z\");\n  }\n};\n\nfunction block(_ref) {\n  var child = _ref.child;\n  var content = renderInternal(child);\n  return {\n    type: 'span',\n    props: {\n      style: {\n        height: \"\".concat(content.height, \"em\")\n      }\n    },\n    aboveMiddle: content.aboveMiddle,\n    belowMiddle: content.belowMiddle,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Parens, {\n      height: content.height\n    }), content.elements, /*#__PURE__*/React.createElement(Parens, {\n      height: content.height,\n      flip: true\n    }))\n  };\n}\n\nfunction func(node) {\n  // Use manual rendering to allow commas to be pushed between args\n  // without having to resort to manual alignment\n  var argParts = [];\n  node.args.forEach(function (arg, i) {\n    if (i > 0) {\n      argParts.push(simplePart(',', {\n        paddingRight: '0.4em'\n      }));\n    }\n\n    pushTree(arg, argParts);\n  }); // Render name as variable or placeholder\n\n  var nameRendering = renderInternal(node.type === 'function' ? {\n    type: 'variable',\n    name: node.name\n  } : {\n    type: 'operand-placeholder'\n  });\n  var argRendering = toRendering(argParts);\n  return {\n    type: 'span',\n    props: {\n      style: {\n        height: \"\".concat(Math.max(nameRendering.height, argRendering.height), \"em\")\n      }\n    },\n    aboveMiddle: Math.max(nameRendering.aboveMiddle, argRendering.aboveMiddle),\n    belowMiddle: Math.max(nameRendering.belowMiddle, argRendering.belowMiddle),\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        position: 'relative',\n        top: \"\".concat(argRendering.aboveMiddle - nameRendering.aboveMiddle, \"em\")\n      }\n    }, nameRendering.elements), /*#__PURE__*/React.createElement(Parens, {\n      height: argRendering.height\n    }), argRendering.elements, /*#__PURE__*/React.createElement(Parens, {\n      height: argRendering.height,\n      flip: true\n    }))\n  };\n}\n\nvar fontFactor = 0.9;\nvar separatorSize = 0.06;\nvar styles$1 = {\n  wrapper: {\n    display: 'inline-block',\n    verticalAlign: 'top'\n  },\n  part: {\n    fontSize: \"\".concat(fontFactor * 100, \"%\"),\n    display: 'block',\n    textAlign: 'center',\n    padding: '0 0.4em'\n  },\n  separator: {\n    display: 'block',\n    background: 'currentColor',\n    borderTop: \"\".concat(separatorSize, \"em solid currentColor\")\n  }\n};\nfunction fraction(_ref) {\n  var a = _ref.a,\n      b = _ref.b;\n  var top = renderInternal(a, true);\n  var bottom = renderInternal(b, true);\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2({}, styles$1.wrapper)\n    },\n    aboveMiddle: top.height * fontFactor - separatorSize / 2,\n    belowMiddle: bottom.height * fontFactor + separatorSize * 3 / 2,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$1.part), {}, {\n        height: \"\".concat(top.height, \"em\")\n      })\n    }, top.elements), /*#__PURE__*/React.createElement(\"span\", {\n      style: styles$1.separator\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$1.part), {}, {\n        height: \"\".concat(bottom.height, \"em\")\n      })\n    }, bottom.elements))\n  };\n}\n\nvar fontFactor$1 = 0.7;\nvar exponentOffset = 0.8;\nvar styles$2 = {\n  exponent: {\n    fontSize: \"\".concat(fontFactor$1 * 100, \"%\"),\n    display: 'inline-block',\n    verticalAlign: 'top'\n  }\n};\nfunction power(_ref) {\n  var a = _ref.a,\n      b = _ref.b;\n  var base = renderInternal(a, false);\n  var exponent = renderInternal(b, true);\n  var baseOffset = exponent.height * fontFactor$1 - exponentOffset;\n  return {\n    type: 'span',\n    props: {\n      style: {\n        height: \"\".concat(base.height + baseOffset, \"em\")\n      }\n    },\n    aboveMiddle: base.height / 2 + baseOffset,\n    belowMiddle: base.height / 2,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        position: 'relative',\n        top: \"\".concat(baseOffset, \"em\"),\n        height: \"\".concat(base.height, \"em\")\n      }\n    }, base.elements), /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$2.exponent), {}, {\n        height: \"\".concat(exponent.height, \"em\")\n      })\n    }, exponent.elements))\n  };\n}\n\nvar padding = 0.2;\nvar cellPadding = 0.4;\nvar fontFactor$2 = 0.9;\nvar styles$3 = {\n  wrapper: {\n    padding: '0.1em 0'\n  },\n  table: {\n    display: 'inline-table',\n    verticalAlign: 'top',\n    borderCollapse: 'collapse',\n    fontSize: \"\".concat(fontFactor$2 * 100, \"%\"),\n    marginTop: '0.1em'\n  },\n  cell: {\n    padding: '0.2em 0.5em',\n    textAlign: 'center',\n    verticalAlign: 'top'\n  },\n  cellContent: {\n    width: '100%',\n    height: '100%'\n  }\n};\nfunction matrix(_ref) {\n  var values = _ref.values,\n      m = _ref.m;\n  var content = values.map(function (row) {\n    return row.map(function (value) {\n      return renderInternal(value);\n    });\n  });\n  var cellHeight = sumOf(content, function (row) {\n    return maxOf(row, function (_ref2) {\n      var height = _ref2.height;\n      return height;\n    });\n  });\n  var height = fontFactor$2 * (m * cellPadding + cellHeight);\n  return {\n    type: 'span',\n    props: {\n      style: styles$3.wrapper\n    },\n    aboveMiddle: (height + padding) / 2,\n    belowMiddle: (height + padding) / 2,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Parens, {\n      height: height,\n      type: \"[]\"\n    }), /*#__PURE__*/React.createElement(\"table\", {\n      style: styles$3.table\n    }, /*#__PURE__*/React.createElement(\"tbody\", null, content.map(function (row, rowIdx) {\n      var rowHeight = maxOf(row, function (cell) {\n        return cell.height;\n      }) + cellPadding;\n      var aboveMiddle = maxOf(row, function (cell) {\n        return cell.aboveMiddle;\n      });\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: rowIdx,\n        style: {\n          height: \"\".concat(rowHeight, \"em\")\n        }\n      }, row.map(function (cell, cellIdx) {\n        return /*#__PURE__*/React.createElement(\"td\", {\n          key: cellIdx,\n          style: styles$3.cell\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            position: 'relative',\n            top: \"\".concat(aboveMiddle - cell.aboveMiddle, \"em\")\n          }\n        }, cell.elements));\n      }));\n    }))), /*#__PURE__*/React.createElement(Parens, {\n      height: height,\n      type: \"[]\",\n      flip: true\n    }))\n  };\n}\n\nfunction maxOf(array, get) {\n  return array.reduce(function (current, value) {\n    return Math.max(current, get(value));\n  }, 0);\n}\n\nfunction sumOf(array, get) {\n  return array.reduce(function (current, value) {\n    return current + get(value);\n  }, 0);\n}\n\nvar iconSize = 1.8;\nvar fontFactor$3 = 0.8;\nvar styles$4 = {\n  wrapper: {\n    display: 'inline-block'\n  },\n  block: {\n    display: 'inline-block',\n    verticalAlign: 'top',\n    textAlign: 'center'\n  },\n  icon: {\n    display: 'block',\n    lineHeight: 0.8,\n    fontSize: '2.25em',\n    padding: '0 0.1em',\n    top: '1px'\n  },\n  small: {\n    display: 'block',\n    fontSize: \"\".concat(fontFactor$3 * 100, \"%\")\n  }\n};\nfunction sum(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 4),\n      variable = _ref$args[0],\n      start = _ref$args[1],\n      end = _ref$args[2],\n      expression = _ref$args[3];\n\n  var top = renderInternal(end || {\n    type: 'operand-placeholder'\n  });\n  var bottom = renderInternal({\n    type: 'equals',\n    a: variable || {\n      type: 'operand-placeholder'\n    },\n    b: start || {\n      type: 'operand-placeholder'\n    }\n  });\n  var rendering = renderInternal(wrapParenthesis(expression || {\n    type: 'operand-placeholder'\n  }), false, {\n    type: 'span',\n    props: {\n      style: styles$4.block\n    },\n    aboveMiddle: iconSize / 2 + top.height * fontFactor$3,\n    belowMiddle: iconSize / 2 + bottom.height * fontFactor$3,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2({\n        height: \"\".concat(top.height, \"em\")\n      }, styles$4.small)\n    }, top.elements), /*#__PURE__*/React.createElement(\"span\", {\n      style: styles$4.icon\n    }, \"\\u03A3\"), /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2({\n        height: \"\".concat(bottom.height, \"em\")\n      }, styles$4.small)\n    }, bottom.elements))\n  });\n  return {\n    type: 'span',\n    props: {\n      style: styles$4.wrapper\n    },\n    aboveMiddle: rendering.aboveMiddle,\n    belowMiddle: rendering.belowMiddle,\n    children: rendering.elements\n  };\n}\n\nfunction wrapParenthesis(tree) {\n  if (canStandAlone(tree)) {\n    return tree;\n  } else {\n    return {\n      type: 'block',\n      child: tree\n    };\n  }\n}\n\nfunction canStandAlone(tree) {\n  return tree.type === 'variable' || tree.type === 'number' || tree.type === 'block' || tree.type === 'function' || tree.type === 'matrix' || tree.type === 'divide-fraction' || tree.type === 'power' || tree.type === 'operand-placeholder' || tree.type === 'function-placeholder' || (tree.type === 'negative' || tree.type === 'positive' || tree.type === 'positive-negative' || tree.type === 'operator-unary-placeholder') && canStandAlone(tree.value);\n}\n\nvar styles$5 = {\n  wrapper: {\n    display: 'inline-block',\n    verticalAlign: 'top',\n    padding: '0 0.3em'\n  },\n  line: {\n    position: 'absolute',\n    borderLeft: '0.08em solid currentColor',\n    top: '0.2em',\n    height: \"calc(100% - 0.4em)\"\n  }\n};\nfunction abs(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 1),\n      expression = _ref$args[0];\n\n  var content = renderInternal(expression || {\n    type: 'operand-placeholder'\n  });\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles$5.wrapper), {}, {\n        height: \"\".concat(content.height, \"em\")\n      })\n    },\n    aboveMiddle: content.aboveMiddle,\n    belowMiddle: content.belowMiddle,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$5.line), {}, {\n        left: '0.1em'\n      })\n    }), content.elements, /*#__PURE__*/React.createElement(\"span\", {\n      style: _objectSpread2(_objectSpread2({}, styles$5.line), {}, {\n        right: '0.1em'\n      })\n    }))\n  };\n}\n\nfunction RootSymbol(_ref) {\n  var height = _ref.height,\n      style = _ref.style;\n  height = Math.max(height, 1.4);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"0.8em\",\n    style: style,\n    viewBox: \"0 0 0.8 \".concat(height - 0.1)\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: buildPath(morphSvg(pathCommands, height))\n  }));\n}\n\nfunction morphSvg(commands, height) {\n  var offsetHeight = height - 1.4; // Factors determined by experiment\n  // Move top and inner elbow to keep the width of the long\n  // line at ~0.5em\n\n  var topOffsetFactor = 0.015 * Math.atan(offsetHeight * 1.25);\n  var elbowFactor = 0.08 * Math.atan(offsetHeight * 0.556);\n  return commands.map(function (_ref2, idx) {\n    var c = _ref2.c,\n        v = _ref2.v;\n\n    // First point, anchor of top\n    // Move full offset\n    if (idx === 0) {\n      return {\n        c: c,\n        v: [v[0] - topOffsetFactor, v[1]]\n      }; // Second point, beizer\n      // Move to keep round top\n    } else if (idx === 1) {\n      return {\n        c: c,\n        v: [v[0] - topOffsetFactor * 0.75, v[1], v[2] - topOffsetFactor * 0.5, v[3]]\n      }; // Last point is inside elbow, should move up along short line\n    } else if (idx === 18) {\n      return {\n        c: c,\n        v: [// Move along existing line\n        v[0] - elbowFactor * 0.416, v[1] - elbowFactor * 0.909 + offsetHeight]\n      }; // Move other points down\n    } else if (idx > 3) {\n      return {\n        c: c,\n        v: v.map(function (value, valueIdx) {\n          return valueIdx % 2 === 0 ? value : value + offsetHeight;\n        })\n      };\n    }\n\n    return {\n      c: c,\n      v: v\n    };\n  });\n} // Build path-string from commands\n\n\nfunction buildPath(commands) {\n  return commands.map(function (_ref3) {\n    var c = _ref3.c,\n        v = _ref3.v;\n    return c + v.join(' ');\n  }).join('');\n} // Commands used to draw a square root sign\n\n\nvar pathCommands = [{\n  c: 'M',\n  v: [0.7767, 0.014]\n}, {\n  c: 'Q',\n  v: [0.7847, 0, 0.7967, 0]\n}, {\n  c: 'L',\n  v: [0.8, 0]\n}, {\n  c: 'L',\n  v: [0.8, 0.08]\n}, {\n  c: 'L',\n  v: [0.351, 0.993]\n}, {\n  c: 'Q',\n  v: [0.347, 1, 0.332, 1]\n}, {\n  c: 'Q',\n  v: [0.323, 1, 0.32, 0.997]\n}, {\n  c: 'L',\n  v: [0.126, 0.575]\n}, {\n  c: 'L',\n  v: [0.11, 0.586]\n}, {\n  c: 'Q',\n  v: [0.095, 0.598, 0.079, 0.61]\n}, {\n  c: 'T',\n  v: [0.061, 0.622]\n}, {\n  c: 'Q',\n  v: [0.057, 0.622, 0.048, 0.614]\n}, {\n  c: 'T',\n  v: [0.038, 0.6]\n}, {\n  c: 'Q',\n  v: [0.038, 0.597, 0.039, 0.596]\n}, {\n  c: 'Q',\n  v: [0.041, 0.592, 0.106, 0.542]\n}, {\n  c: 'T',\n  v: [0.173, 0.491]\n}, {\n  c: 'Q',\n  v: [0.175, 0.489, 0.178, 0.489]\n}, {\n  c: 'Q',\n  v: [0.185, 0.489, 0.19, 0.499]\n}, {\n  c: 'L',\n  v: [0.3578, 0.8658]\n}, {\n  c: 'Z',\n  v: []\n}];\n\nvar padding$1 = 0.1;\nvar styles$6 = {\n  wrapper: {\n    position: 'relative',\n    display: 'inline-block',\n    marginTop: '0.1em'\n  },\n  symbol: {\n    verticalAlign: 'top'\n  },\n  line: {\n    position: 'absolute',\n    width: 'calc(100% - 0.7em)',\n    borderTop: '0.08em solid currentColor',\n    top: 0,\n    left: '0.8em'\n  }\n};\nfunction sqrt(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 1),\n      expression = _ref$args[0];\n\n  var content = renderInternal(expression || {\n    type: 'operand-placeholder'\n  });\n  return {\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles$6.wrapper), {}, {\n        height: \"\".concat(content.height + padding$1, \"em\")\n      })\n    },\n    aboveMiddle: content.aboveMiddle + padding$1,\n    belowMiddle: content.belowMiddle,\n    children: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(RootSymbol, {\n      style: styles$6.symbol,\n      height: content.height + padding$1\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: styles$6.line\n    }), content.elements)\n  };\n}\n\nvar rootIndexFactor = 0.7;\nvar rootIndexOffset = 0.8;\nvar styles$7 = {\n  wrapper: {\n    display: 'inline-block',\n    position: 'relative'\n  },\n  indexOuter: {\n    display: 'inline-block'\n  },\n  indexInner: {\n    fontSize: \"\".concat(rootIndexFactor * 100, \"%\"),\n    verticalAlign: 'top'\n  }\n};\nfunction root(_ref) {\n  var _ref$args = _slicedToArray(_ref.args, 2),\n      rootIndex = _ref$args[0],\n      expression = _ref$args[1];\n\n  var rootIndexContent = renderInternal(rootIndex || {\n    type: 'operand-placeholder'\n  }); // Pretend this is a sqrt to avoid repeat of logic\n\n  var sqrtContent = sqrt({\n    type: 'function',\n    name: 'sqrt',\n    args: [expression]\n  });\n  var bottom = sqrtContent.belowMiddle - rootIndexOffset;\n  var offset = 1 - Math.atan(sqrtContent.aboveMiddle + sqrtContent.belowMiddle) * 0.6;\n  var rendering = toRendering([{\n    type: 'span',\n    props: {\n      style: _objectSpread2(_objectSpread2({}, styles$7.indexOuter), {}, {\n        height: \"\".concat(rootIndexContent.height * rootIndexFactor, \"em\"),\n        marginRight: \"\".concat(-offset, \"em\"),\n        minWidth: \"\".concat(offset, \"em\")\n      })\n    },\n    aboveMiddle: rootIndexContent.height * rootIndexFactor - bottom,\n    belowMiddle: bottom,\n    children: /*#__PURE__*/React.createElement(\"span\", {\n      style: styles$7.indexInner\n    }, rootIndexContent.elements)\n  }, sqrtContent]);\n  return {\n    type: 'span',\n    props: {\n      style: styles$7.wrapper\n    },\n    aboveMiddle: rendering.aboveMiddle,\n    belowMiddle: rendering.belowMiddle,\n    children: rendering.elements\n  };\n}\n\nvar defaultErrorHandler = function defaultErrorHandler(node) {\n  return \"Error: \".concat(node.errorType);\n};\n\nvar render = function render(node) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$errorHandler = _ref.errorHandler,\n      errorHandler = _ref$errorHandler === void 0 ? {} : _ref$errorHandler,\n      className = _ref.className,\n      style = _ref.style;\n\n  var baseProps = {\n    className: className,\n    style: _objectSpread2(_objectSpread2({}, style), {}, {\n      display: 'inline-block',\n      lineHeight: 1.4\n    })\n  };\n\n  if (node.type === 'parser-error') {\n    return /*#__PURE__*/React.createElement(\"span\", baseProps, /*#__PURE__*/React.createElement(\"div\", null, node.equation.substring(0, node.start), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: 'red'\n      }\n    }, node.equation.substring(node.start, node.end + 1)), node.equation.substring(node.end + 1)), /*#__PURE__*/React.createElement(\"div\", null, (errorHandler[node.errorType] || defaultErrorHandler)(node)));\n  }\n\n  if (node.type === 'resolve-error' && node.node) {\n    // TODO: pretty error handling\n    var _renderInternal = renderInternal(node.node),\n        _elements = _renderInternal.elements,\n        _height = _renderInternal.height;\n\n    return /*#__PURE__*/React.createElement(\"span\", baseProps, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        height: \"\".concat(_height, \"em\"),\n        display: 'inline-block'\n      }\n    }, _elements), /*#__PURE__*/React.createElement(\"br\", null), (errorHandler[node.errorType] || defaultErrorHandler)(node));\n  }\n\n  if (node.type === 'resolve-error') {\n    return /*#__PURE__*/React.createElement(\"span\", baseProps, (errorHandler[node.errorType] || defaultErrorHandler)(node));\n  }\n\n  var _renderInternal2 = renderInternal(node),\n      elements = _renderInternal2.elements,\n      height = _renderInternal2.height;\n\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, baseProps, {\n    style: _objectSpread2({\n      height: \"\".concat(height, \"em\")\n    }, baseProps.style)\n  }), elements);\n};\nfunction renderInternal(tree) {\n  var skipParentheses = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var parts;\n\n  for (var _len = arguments.length, initial = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    initial[_key - 2] = arguments[_key];\n  }\n\n  if (skipParentheses && tree.type === 'block') {\n    parts = pushTree(tree.child, initial);\n  } else {\n    parts = pushTree(tree, initial);\n  }\n\n  return toRendering(parts);\n}\nfunction toRendering(parts) {\n  var aboveMiddle = parts.reduce(function (current, part) {\n    return Math.max(current, part.aboveMiddle);\n  }, 0);\n  var belowMiddle = parts.reduce(function (current, part) {\n    return Math.max(current, part.belowMiddle);\n  }, 0);\n\n  var _iterator = _createForOfIteratorHelper(parts),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var part = _step.value;\n      part.props.style = _objectSpread2(_objectSpread2({}, part.props.style), {}, {\n        top: part.aboveMiddle < aboveMiddle ? \"\".concat(aboveMiddle - part.aboveMiddle, \"em\") : null,\n        position: 'relative'\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return {\n    aboveMiddle: aboveMiddle,\n    belowMiddle: belowMiddle,\n    height: aboveMiddle + belowMiddle,\n    elements: parts.map(function (part, idx) {\n      return /*#__PURE__*/React.createElement(part.type, _objectSpread2({\n        key: idx\n      }, part.props), part.children);\n    })\n  };\n} // Lookups for operator symbols with optional styling\n\nvar binaryOperatorLookup = {\n  'plus': ['+'],\n  // Unicode MINUS\n  'minus': ['−'],\n  // Unicode MINUS\n  'plus-minus': ['±'],\n  'multiply-implicit': ['', {\n    padding: '0 0.1em'\n  }],\n  // Unicode DOT OPERATOR\n  'multiply-dot': ['⋅', {\n    padding: '0 0.15em'\n  }],\n  // Unicode MULTIPLICATION SIGN\n  'multiply-cross': ['×'],\n  // Unicode DIVISION SIGN\n  'divide-inline': ['÷'],\n  'equals': ['='],\n  'less-than': ['<'],\n  'less-than-equals': ['≤'],\n  'greater-than': ['>'],\n  'greater-than-equals': ['≥'],\n  'approximates': ['≈'],\n  'operator-placeholder': ['?']\n};\nvar unaryOperatorLookup = {\n  'positive': ['+'],\n  // Unicode MINUS\n  'negative': ['−'],\n  'positive-negative': ['±'],\n  'operator-unary-placeholder': ['?']\n};\nfunction pushTree(node, current) {\n  switch (node.type) {\n    // Operands\n    case 'number':\n      current.push(simplePart(node.value));\n      break;\n\n    case 'variable':\n      current.push(variable(node));\n      break;\n\n    case 'operand-placeholder':\n      current.push(simplePart('_'));\n      break;\n    // Unary operators\n\n    case 'positive':\n    case 'negative':\n    case 'positive-negative':\n    case 'operator-unary-placeholder':\n      {\n        var _unaryOperatorLookup$ = _slicedToArray(unaryOperatorLookup[node.type], 2),\n            symbol = _unaryOperatorLookup$[0],\n            _unaryOperatorLookup$2 = _unaryOperatorLookup$[1],\n            style = _unaryOperatorLookup$2 === void 0 ? {\n          padding: '0 0.1em'\n        } : _unaryOperatorLookup$2;\n\n        current.push(simplePart(symbol, style));\n        pushTree(node.value, current);\n        break;\n      }\n\n    case 'plus':\n    case 'minus':\n    case 'plus-minus':\n    case 'multiply-implicit':\n    case 'multiply-dot':\n    case 'multiply-cross':\n    case 'divide-inline':\n    case 'equals':\n    case 'less-than':\n    case 'less-than-equals':\n    case 'greater-than':\n    case 'greater-than-equals':\n    case 'approximates':\n    case 'operator-placeholder':\n      {\n        var _binaryOperatorLookup = _slicedToArray(binaryOperatorLookup[node.type], 2),\n            _symbol = _binaryOperatorLookup[0],\n            _binaryOperatorLookup2 = _binaryOperatorLookup[1],\n            _style = _binaryOperatorLookup2 === void 0 ? {\n          padding: '0 0.3em'\n        } : _binaryOperatorLookup2;\n\n        pushTree(node.a, current);\n        current.push(simplePart(_symbol, _style));\n        pushTree(node.b, current);\n        break;\n      }\n\n    case 'divide-fraction':\n      current.push(fraction(node));\n      break;\n\n    case 'power':\n      current.push(power(node));\n      break;\n\n    case 'block':\n      current.push(block(node));\n      break;\n\n    case 'function':\n      pushFunction(node, current);\n      break;\n\n    case 'function-placeholder':\n      current.push(func(node));\n      break;\n\n    case 'matrix':\n      current.push(matrix(node));\n      break;\n\n    default:\n      throwUnknownType(node, function (type) {\n        return \"Equation render: cannot resolve type \\\"\".concat(type, \"\\\"\");\n      });\n  }\n\n  return current;\n}\nfunction simplePart(value, style) {\n  return {\n    type: 'span',\n    props: {\n      style: style\n    },\n    children: value,\n    aboveMiddle: 0.7,\n    belowMiddle: 0.7\n  };\n}\n\nfunction pushFunction(tree, current) {\n  switch (tree.name) {\n    case 'sum':\n      current.push(sum(tree));\n      break;\n\n    case 'abs':\n      current.push(abs(tree));\n      break;\n\n    case 'sqrt':\n      current.push(sqrt(tree));\n      break;\n\n    case 'root':\n      current.push(root(tree));\n      break;\n\n    default:\n      current.push(func(tree));\n      break;\n  }\n}\n\nvar context = /*#__PURE__*/createContext({});\n\nvar EquationOptions = function EquationOptions(_ref) {\n  var children = _ref.children,\n      options = _objectWithoutProperties(_ref, [\"children\"]);\n\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: options\n  }, children);\n};\n\nvar Equation = function Equation(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style;\n\n  return render(parse(value), {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar unionArrays = function unionArrays(a, b) {\n  if (!a) {\n    return b;\n  } else if (!b) {\n    return a;\n  } else {\n    return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n  }\n};\n\nvar EquationEvaluate = function EquationEvaluate(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style,\n      unit = _ref.unit,\n      localVariables = _ref.variables,\n      localFunctions = _ref.functions,\n      localSimplifiableUnits = _ref.simplifiableUnits;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style,\n      globalVariables = _useContext.variables,\n      globalFunctions = _useContext.functions,\n      globalSimplifiableUnits = _useContext.simplifiableUnits;\n\n  var equation = parse(value);\n  var unitEquation = unit ? parse(unit) : null;\n  var tree = format(equation, unitEquation, {\n    variables: _objectSpread2(_objectSpread2({}, globalVariables), localVariables),\n    functions: _objectSpread2(_objectSpread2({}, globalFunctions), localFunctions),\n    simplifiableUnits: unionArrays(localSimplifiableUnits, globalSimplifiableUnits)\n  });\n  return render(tree, {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar EquationPreparsed = function EquationPreparsed(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style;\n\n  return render(value, {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar unionArrays$1 = function unionArrays(a, b) {\n  if (!a) {\n    return b;\n  } else if (!b) {\n    return a;\n  } else {\n    return [].concat(_toConsumableArray(a), _toConsumableArray(b));\n  }\n};\n\nvar EquationEvaluatePreparsed = function EquationEvaluatePreparsed(_ref) {\n  var value = _ref.value,\n      errorHandler = _ref.errorHandler,\n      className = _ref.className,\n      style = _ref.style,\n      unit = _ref.unit,\n      localVariables = _ref.variables,\n      localFunctions = _ref.functions,\n      localSimplifiableUnits = _ref.simplifiableUnits;\n\n  var _useContext = useContext(context),\n      errorHandlerGlobal = _useContext.errorHandler,\n      classNameGlobal = _useContext.className,\n      styleGlobal = _useContext.style,\n      globalVariables = _useContext.variables,\n      globalFunctions = _useContext.functions,\n      globalSimplifiableUnits = _useContext.simplifiableUnits;\n\n  var tree = format(value, unit, {\n    variables: _objectSpread2(_objectSpread2({}, globalVariables), localVariables),\n    functions: _objectSpread2(_objectSpread2({}, globalFunctions), localFunctions),\n    simplifiableUnits: unionArrays$1(localSimplifiableUnits, globalSimplifiableUnits)\n  });\n  return render(tree, {\n    errorHandler: _objectSpread2(_objectSpread2({}, errorHandlerGlobal), errorHandler),\n    className: classnames(classNameGlobal, className),\n    style: _objectSpread2(_objectSpread2({}, styleGlobal), style)\n  });\n};\n\nvar defaultErrorHandler$1 = {\n  // Parser errors\n  numberWhitespace: function numberWhitespace() {\n    return 'Cannot have spaces inside numbers';\n  },\n  invalidNumber: function invalidNumber() {\n    return 'Invalid number';\n  },\n  adjecentOperator: function adjecentOperator() {\n    return 'Two operators cannot be adjecent';\n  },\n  invalidChar: function invalidChar(_ref) {\n    var character = _ref.character;\n    return \"Invalid character '\".concat(character, \"'\");\n  },\n  invalidUnary: function invalidUnary(_ref2) {\n    var symbol = _ref2.symbol;\n    return \"'\".concat(symbol, \"' cannot be a unary operator\");\n  },\n  multipleExpressions: function multipleExpressions() {\n    return 'An unexpected parsing error occured';\n  },\n  matrixMixedDimension: function matrixMixedDimension(_ref3) {\n    var lengthExpected = _ref3.lengthExpected,\n        lengthReceived = _ref3.lengthReceived;\n    return \"Matrix-row has length \".concat(lengthReceived, \", but should be \").concat(lengthExpected);\n  },\n  matrixEmpty: function matrixEmpty() {\n    return 'Matrix must contain at least one expression';\n  },\n  vectorEmpty: function vectorEmpty() {\n    return 'Vector must contain at least one expression';\n  },\n  expectedEnd: function expectedEnd() {\n    return 'Expected end of equation';\n  },\n  expectedSquareBracket: function expectedSquareBracket() {\n    return 'Missing closing square bracket';\n  },\n  expectedCloseParens: function expectedCloseParens() {\n    return 'Missing closing parenthesis';\n  },\n  operatorLast: function operatorLast() {\n    return 'Equation cannot end on an operator';\n  },\n  // Resolver errors\n  functionUnknown: function functionUnknown(_ref4) {\n    var name = _ref4.name;\n    return \"Unknown function \".concat(name);\n  },\n  functionArgLength: function functionArgLength(_ref5) {\n    var name = _ref5.name,\n        minArgs = _ref5.minArgs,\n        maxArgs = _ref5.maxArgs;\n    return minArgs === maxArgs ? \"\".concat(name, \" must have \").concat(minArgs, \" arguments\") : \"\".concat(name, \" must have \").concat(minArgs, \"-\").concat(maxArgs, \" arguments\");\n  },\n  functionNumberOnly: function functionNumberOnly(_ref6) {\n    var name = _ref6.name;\n    return \"Arguments of \".concat(name, \" must be unitless numbers\");\n  },\n  functionSqrt1Positive: function functionSqrt1Positive(_ref7) {\n    var name = _ref7.name;\n    return \"First argument of \".concat(name, \" must be positive\");\n  },\n  functionRoot1PositiveInteger: function functionRoot1PositiveInteger(_ref8) {\n    var name = _ref8.name;\n    return \"First argument of \".concat(name, \" must be a positive integer\");\n  },\n  functionRoot2Positive: function functionRoot2Positive(_ref9) {\n    var name = _ref9.name;\n    return \"Second argument of \".concat(name, \" must be positive\");\n  },\n  functionSum1Variable: function functionSum1Variable(_ref10) {\n    var name = _ref10.name,\n        variableType = _ref10.variableType;\n    return \"First argument of \".concat(name, \" must be a variable, was \").concat(variableType);\n  },\n  functionSum2Integer: function functionSum2Integer(_ref11) {\n    var name = _ref11.name;\n    return \"Second argument of \".concat(name, \" must be an integer\");\n  },\n  functionSum3Integer: function functionSum3Integer(_ref12) {\n    var name = _ref12.name;\n    return \"Third argument of \".concat(name, \" must be an integer\");\n  },\n  variableUnknown: function variableUnknown(_ref13) {\n    var name = _ref13.name;\n    return \"Unknown variable \".concat(name);\n  },\n  plusDifferentUnits: function plusDifferentUnits() {\n    return \"Cannot add numbers with different units\";\n  },\n  plusMatrixMismatch: function plusMatrixMismatch(_ref14) {\n    var aDimensions = _ref14.aDimensions,\n        bDimensions = _ref14.bDimensions;\n    return \"Cannot add matrices of dimensions \".concat(aDimensions, \" and \").concat(bDimensions);\n  },\n  plusminusUnhandled: function plusminusUnhandled() {\n    return \"Plus-minus operator is currently not supported\";\n  },\n  scalarProductUnbalanced: function scalarProductUnbalanced(_ref15) {\n    var aLength = _ref15.aLength,\n        bLength = _ref15.bLength;\n    return \"Cannot calculate scalar (dot) product of vectors of size \".concat(aLength, \" and \").concat(bLength);\n  },\n  vectorProduct3VectorOnly: function vectorProduct3VectorOnly() {\n    return \"Vector (cross) product requires 2 3-vectors\";\n  },\n  matrixProductMatrixMismatch: function matrixProductMatrixMismatch(_ref16) {\n    var aDimensions = _ref16.aDimensions,\n        bDimensions = _ref16.bDimensions;\n    return \"Cannot multiply matrices of dimensions \".concat(aDimensions, \" and \").concat(bDimensions);\n  },\n  multiplyImplicitNoVectors: function multiplyImplicitNoVectors() {\n    return \"Cannot multiply vectors without symbol, use either dot or cross\";\n  },\n  divideNotZero: function divideNotZero() {\n    return \"Cannot divide by zero\";\n  },\n  divideMatrixMatrix: function divideMatrixMatrix() {\n    return \"Cannot divide matrices with each other\";\n  },\n  powerUnitlessNumberExponent: function powerUnitlessNumberExponent() {\n    return \"Exponent must be a unitless number\";\n  },\n  operatorInvalidArguments: function operatorInvalidArguments(_ref17) {\n    var operator = _ref17.operator,\n        a = _ref17.a,\n        b = _ref17.b;\n    return \"Operator '\".concat(operator, \"' not defined for \").concat(a, \" and \").concat(b);\n  },\n  noComparison: function noComparison() {\n    return \"Cannot evaluate a comparison\";\n  },\n  matrixDifferentUnits: function matrixDifferentUnits() {\n    return \"All matrix-cells must have the same unit\";\n  },\n  matrixNoNesting: function matrixNoNesting() {\n    return \"Cannot nest matrices\";\n  },\n  invalidEquation: function invalidEquation() {\n    return \"Cannot resolve an invalid equation\";\n  },\n  placeholder: function placeholder() {\n    return \"Cannot evaluate a placeholder\";\n  },\n  invalidUnit: function invalidUnit() {\n    return \"Must be a valid unit\";\n  }\n};\n\nexport { Equation, EquationEvaluate, EquationEvaluatePreparsed, EquationOptions, EquationPreparsed, defaultErrorHandler$1 as defaultErrorHandler, render };\n"]},"metadata":{},"sourceType":"module"}